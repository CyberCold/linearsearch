<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ü–æ–∏—Å–∫ —á–∏—Å–ª–∞ (JS / PHP / –ê–Ω–∞–ª–∏–∑)</title>
<style>
  body { font-family: Arial, sans-serif; background: #0e0e0e; color: #f1f1f1; text-align: center; padding: 40px; }
  input, button { padding: 10px; margin: 8px; border: none; border-radius: 6px; font-size: 16px; }
  input { width: 300px; }
  button { cursor: pointer; background: #008cff; color: #fff; transition: 0.2s; }
  button:hover { background: #00aaff; }
  #result { margin-top: 20px; font-size: 18px; }
  #animation { margin-top: 20px; }
  .number-box { display: inline-block; width: 45px; height: 45px; margin: 4px; line-height: 45px; border-radius: 8px; background: #222; border: 2px solid #333; transition: all 0.3s; }
  .checking { background: #ffb400; border-color: #ffaa00; }
  .found { background: #00c851; border-color: #00e676; }
  .notfound { background: #ff4444; border-color: #ff6666; }
</style>
</head>
<body>
  <h2>üîç –ü–æ–∏—Å–∫ —á–∏—Å–ª–∞</h2>
  <input type="text" id="arrayInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –º–∞—Å—Å–∏–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 3,5,8,2,9)">
  <br>
  <input type="text" id="targetInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏—Å–∫–æ–º–æ–µ —á–∏—Å–ª–æ">
  <br>
  <button onclick="searchJS()">–ü–æ–∏—Å–∫ (JS)</button>
  <button onclick="searchPHP()">–ü–æ–∏—Å–∫ (PHP)</button>
  <button onclick="analyzeJS()">–ê–Ω–∞–ª–∏–∑ –ø–æ–∏—Å–∫–∞ (JS)</button>
  <div id="result"></div>
  <div id="animation"></div>

<script>
function parseArray() {
  const arrStr = document.getElementById('arrayInput').value;
  if (!arrStr.trim()) {
    // –ï—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º 50‚Äì70 —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
    return Array.from({length: 50 + Math.floor(Math.random()*21)}, () => Math.floor(Math.random()*1000));
  }
  return arrStr.split(',').map(n => parseFloat(n.trim())).filter(n => !isNaN(n));
}

// JS-–ø–æ–∏—Å–∫, –ø–æ–≤—Ç–æ—Ä 100 —Ä–∞–∑
function searchJS() {
  const arr = parseArray();
  const target = parseFloat(document.getElementById('targetInput').value);
  let foundIndex = -1;
  const start = performance.now();
  for (let k = 0; k < 100; k++) {
    for (let i = 0; i < arr.length; i++) {
      if (arr[i] === target) { foundIndex = i; break; }
    }
  }
  const end = performance.now();
  const duration = end - start;
  document.getElementById('result').innerHTML =
    `üîπ JS: —á–∏—Å–ª–æ <b>${target}</b> ‚Üí ${foundIndex >= 0 ? '–Ω–∞–π–¥–µ–Ω–æ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ ' + foundIndex : '–Ω–µ –Ω–∞–π–¥–µ–Ω–æ'} –∑–∞ ${duration.toPrecision(12)} –º—Å (100 –ø–æ–≤—Ç–æ—Ä–æ–≤)`;
}

// "PHP-–ø–æ–∏—Å–∫" –Ω–∞ JS, –ø–æ–≤—Ç–æ—Ä 100 —Ä–∞–∑
function searchPHP() {
  const arr = parseArray();
  const target = parseFloat(document.getElementById('targetInput').value);
  let foundIndex = -1;
  const start = performance.now();
  for (let k = 0; k < 100; k++) {
    arr.forEach((val,i) => { if(val===target && foundIndex===-1) foundIndex=i; });
  }
  const end = performance.now();
  const duration = end - start;
  document.getElementById('result').innerHTML =
    `üîπ PHP: —á–∏—Å–ª–æ <b>${target}</b> ‚Üí ${foundIndex >= 0 ? '–Ω–∞–π–¥–µ–Ω–æ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ ' + foundIndex : '–Ω–µ –Ω–∞–π–¥–µ–Ω–æ'} –∑–∞ ${duration.toPrecision(12)} –º—Å (100 –ø–æ–≤—Ç–æ—Ä–æ–≤)`;
}

// –ê–Ω–∞–ª–∏–∑ –ø–æ–∏—Å–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π (–æ–¥–∏–Ω —Ä–∞–∑, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–æ–≤)
async function analyzeJS() {
  const arr = parseArray();
  const target = parseFloat(document.getElementById('targetInput').value);
  const animation = document.getElementById('animation');
  const resultDiv = document.getElementById('result');
  animation.innerHTML = '';
  resultDiv.innerHTML = '‚ñ∂ –ê–Ω–∞–ª–∏–∑ –ø–æ–∏—Å–∫–∞...';
  const boxes = arr.map(num => {
    const div = document.createElement('div');
    div.className = 'number-box';
    div.textContent = num;
    animation.appendChild(div);
    return div;
  });

  let found = false;
  const start = performance.now();
  for (let i = 0; i < arr.length; i++) {
    boxes[i].classList.add('checking');
    await new Promise(r => setTimeout(r, 300)); // –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
    if (arr[i] === target) {
      boxes[i].classList.remove('checking');
      boxes[i].classList.add('found');
      found = true;
      const end = performance.now();
      resultDiv.innerHTML = `‚úÖ JS-–∞–Ω–∞–ª–∏–∑: —á–∏—Å–ª–æ <b>${target}</b> –Ω–∞–π–¥–µ–Ω–æ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ ${i} –∑–∞ ${(end-start).toPrecision(12)} –º—Å`;
      break;
    } else {
      boxes[i].classList.remove('checking');
      boxes[i].classList.add('notfound');
    }
  }

  if(!found){
    const end = performance.now();
    resultDiv.innerHTML = `‚ùå JS-–∞–Ω–∞–ª–∏–∑: —á–∏—Å–ª–æ <b>${target}</b> –Ω–µ –Ω–∞–π–¥–µ–Ω–æ (–∑–∞ ${(end-start).toPrecision(12)} –º—Å)`;
  }
}
</script>
</body>
</html>
